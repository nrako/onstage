@import 'antiflickering'

slide-with = 1280px
slide-height = 800px

/* apply some universal default values  */
* {
  box-sizing: border-box
  background-repeat: no-repeat
  position: relative
  vertical-align: middle
}

html
body
  width: 100%
  height: 100%
  overflow: hidden

#content
  display: none

fullsizeAbsolute()
  position: absolute
  top: 0
  left: 0
  width: 100%
  height: 100%

.background
  fullsizeAbsolute()

#stage

  .bgstage
    z-index: 1
    fullsizeAbsolute()

  #canvas
    z-index: 2
    fullsizeAbsolute()
    display: flex
    justify-content: center
    align-items: center

  #viewpoint
    perspective: 600px
    transition: all .7s ease-in-out

  section.slide
  article.slide
    display: none
    opacity: 0
    transition: all 800ms cubic-bezier(0.260, 0.860, 0.440, 0.985)

  .transparent
    opacity: 0
    transition: opacity 800ms cubic-bezier(0.260, 0.860, 0.440, 0.985)

  .in
    opacity: 1
  .out
    transition: opacity 2s cubic-bezier(0.260, 0.860, 0.440, 0.985)

  .carrou-prev
    opacity: 0.5
  .carrou-pres
    opacity: 1
  .carrou-next
    opacity: 0.7

  .slide
    padding: 5px

    antiflickering()

    &.farprev
    &.prev
    &.current
    &.next
    &.farnext
      display: block

    &.farprev
      transform: translate3d(-76%,0%,0) rotateY(-32deg) translate3d(-90%,0%,0)
      opacity: 0

    &.prev
      transform: translate3d(-50%,0%,0px) rotateY(-15deg) translate3d(-70%,0%,0)
      opacity: 1

    &.current
      transform: translate3d(0%,0%,0px) rotateY(0deg) translate3d(0%,0%,0)
      opacity: 1

    &.next
      transform: translate3d(50%,0%,0px) rotateY(15deg) translate3d(70%,0%,0)
      opacity: 1

    &.farnext
      transform: translate3d(76%,0%,0px) rotateY(32deg) translate3d(90%,0%,0)
      opacity: 0

    .fadein
      animation-name: fadein
      animation-duration: 600ms
      animation-iteration-count: 1
      animation-fill-mode: forwards

    .pfff
      animation-name: pfff
      animation-duration: 600ms
      animation-iteration-count: 1
      animation-fill-mode: forwards

    .fademid
      animation-name: fademid
      animation-duration: 1s
      animation-iteration-count: 1
      animation-fill-mode: forwards

    .fadeout
      animation-name: fadeout
      animation-duration: 400ms
      animation-iteration-count: 1
      animation-fill-mode: forwards


  .presentation
    display: none
    > h1
      display: none

    &.current
      display: block

section
  top: -(slide-height / 2)
  left: -(slide-with / 2)
  width: slide-with
  height: slide-height
  margin: 50px
  position: absolute
  font-size: 20px
  transform-style: preserve-3d